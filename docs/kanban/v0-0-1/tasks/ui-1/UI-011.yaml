id: UI-011
title: 'Phenome CLI Action Registry + UI Mapping'
type: Story
layer: 5
domain: core
component: phenome-cli-registry
cli_surface:
  - phenome ui
  - phenome server
  - primer assembly validate
  - primer reconcile
  - primer rotate
  - primer debug
  - primer nuke

description: |
  Create a command registry that lists all CLI actions with metadata
  used by the UI runtime. This is the single source of truth for action
  IDs, help text, parameters, and safety requirements. The registry
  lives in lib/phenome and is adapted for Primer.

deliverables:
  - Phenome action registry with IDs, labels, and parameter schemas
  - Mapping between Primer CLI subcommands and runtime actions
  - Registry output for UI clients (json export)

acceptance_criteria:
  - Adding a new CLI command requires a single registry entry
  - UI surfaces can list available actions from the registry
  - Registry includes safety metadata (confirm required, dry-run support)

dependencies:
  - UI-003
  - UI-009

phase_gate: gitops
effort: S
risk: low

labels:
  - ui
  - cli
  - registry
  - actions
  - phenome

source_files:
  - file: lib/phenome/src/runtime/registry.rs
    context: "Define action registry for UI surfaces"
  - file: lib/phenome/src/adapters/primer/registry.rs
    context: "Expose Primer CLI actions via registry metadata"
  - file: lib/phenome/src/runtime/actions.rs
    context: "Bind registry entries to runtime actions"

status: MustHaves
state: Backlog
status_capsule: (owner:@antigravity, updated:2026-01-01, status:backlog)
assignee: unassigned
