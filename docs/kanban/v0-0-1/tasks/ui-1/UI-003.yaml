id: UI-003
title: 'UI-1B: Phenome CLI Parity + Action Registry'
type: Epic
layer: 5
domain: core
component: phenome-cli
cli_surface:
  - phenome ui
  - phenome server
  - primer assembly validate
  - primer reconcile
  - primer rotate
  - primer debug
  - primer nuke

description: |
  Upgrade the CLI surface so it aligns with UI runtime actions and
  exposes structured output modes. The CLI remains the automation
  backbone, but shares metadata and safety behaviors with other UIs.
  The action registry lives in lib/phenome and is adapted for the
  Primer CLI.

deliverables:
  - Phenome action registry with CLI metadata and help text
  - Primer CLI adapter to the Phenome registry
  - Structured output modes (json, ndjson, plain)
  - Consistent confirmation and dry-run guardrails

acceptance_criteria:
  - CLI and UI share a single action registry source of truth
  - CLI can emit machine-readable output for automation and UIs
  - Destructive commands require explicit confirmation or flags
  - CLI parity works without importing UI-only dependencies

dependencies:
  - UI-001
  - UI-002

children:
  - UI-011
  - UI-012
  - UI-013

phase_gate: gitops
effort: M
risk: low

labels:
  - ui
  - cli
  - automation
  - safety
  - phenome

status: MustHaves
state: Backlog
status_capsule: (owner:@antigravity, updated:2026-01-01, status:backlog)
assignee: unassigned
