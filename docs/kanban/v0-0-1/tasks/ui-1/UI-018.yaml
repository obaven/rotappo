id: UI-018
title: 'Phenome Web API Server + Event Streaming'
type: Story
layer: 5
domain: core
component: phenome-web-api
cli_surface:
  - phenome server

description: |
  Implement a local HTTP API that exposes runtime state snapshots,
  action execution, and event streaming for the web UI. Support
  SSE or WebSocket streams for live updates.

deliverables:
  - HTTP endpoints for snapshots, actions, and health
  - SSE/WebSocket stream for logs and step events
  - API versioning and basic request validation

acceptance_criteria:
  - Web UI can fetch state snapshots over HTTP
  - Action requests execute through the runtime router
  - Event stream provides logs and step transitions in real time

dependencies:
  - UI-002
  - UI-008
  - UI-009

phase_gate: gitops
effort: M
risk: med

labels:
  - ui
  - web
  - api
  - streaming
  - phenome

source_files:
  - file: lib/phenome/src/web/server.rs
    context: "Define HTTP server and routing"
  - file: lib/phenome/src/web/routes.rs
    context: "Expose state, action, and event endpoints"
  - file: lib/phenome/Cargo.toml
    context: "Add web server dependencies"

status: MustHaves
state: Backlog
status_capsule: (owner:@antigravity, updated:2026-01-01, status:backlog)
assignee: unassigned
